<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> MG Trader | Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<script>
    if (sessionStorage.getItem("isLoggedIn") !== "true") {
        window.location.href = "login.html";
    }
</script>

<header>
      MG Trader Management System
     <button onclick="logoutNow()" style="float: right; background: #e74c3c; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: -5px;">
        Logout üîí
     </button>
</header>

<div class="container"> 
    <div class="box" onclick="openPage('products.html')">üì¶ Products / Stock</div>
    <div class="box" onclick="openPage('customers.html')">üë§ Customers / Udhar</div>
    <div class="box" onclick="openPage('sales.html')">üßæ Sales / Invoice</div>
    <div class="box" onclick="openPage('companies.html')">üè¢ Companies</div>
    <div class="box" onclick="openPage('expenses.html')">üí∏ Daily Expenses</div>
    <div class="box" onclick="openPage('workers.html')">üë∑ Workers List</div> <div class="box" onclick="openPage('orders.html')">üìù Order Booker</div>
    <div class="box" onclick="openPage('reports.html')">üìä Business Reports</div> </div>

<div class="container" style="padding-bottom: 100px; margin-top: 0;"> 
    <div class="box" onclick="checkAdmin()" style="background:#e67e22; color:white;">‚öôÔ∏è Admin Approval</div>
    <div class="box" onclick="changeMyPass()" style="background:#8e44ad; color:white;">üîë Change Password</div>
</div>

<script>
    // 1. Security Check Logic
    // Page load hote hi check karega ke user login hai ya nahi
    if (sessionStorage.getItem("isLoggedIn") !== "true") {
        window.location.href = "login.html";
    }

    // 2. Navigation Logic (Wohi purana)
    function openPage(page) {
        window.location.href = page;
    }

    // 3. Admin Security Logic (Wohi logic jo aapne likha)
    function checkAdmin() {
        let pass = prompt("üîê Admin Security: Password likhen:");
        if (pass === 'Malik12345') {
            window.location.href = "admin_approval.html";
        } else {
            alert("‚ùå Galat Password! Malik se rabta karein.");
        }
    }

    // 4. Logout Logic (Clear Session)
    function logoutNow() {
        sessionStorage.clear();
        localStorage.removeItem("isLoggedIn"); // Dono clear karein taake security pakki ho
        window.location.href = "login.html";
    }

    // 5. Password Request Logic (Firebase Connection ready)
    function changeMyPass() {
        let id = prompt("User ID Likhen:");
        if(id) {
            // Hum yahan alert de dete hain, baad mein isay 
            // Firebase "requests" collection mein bhej denge
            alert("Request Sent to Malik Faisal!");
        }
    }
</script>

<footer class="malik-faisal-footer">
    <div class="footer-status-bar">
        <div class="status-left">
            <span class="pulse-dot">‚óè</span> ONLINE SYSTEM STATUS
        </div>
        <div class="status-center">
            <strong>1 MG TRADER</strong> | MANAGEMENT SYSTEM
        </div>
        <div class="status-right">
            DESIGNED BY: <span class="designer-name">MALIK FAISAL</span>
        </div>
    </div>
    <div class="footer-ticker-container">
        <div class="moving-ticker">
            Welcome to  MG Trader Management System | Secure Cloud v5.0 | High-Speed Data Sync Enabled | Developed & Managed by Malik Faisal | All Rights Reserved 2026 ¬©
        </div>
    </div>
</footer>

<style>
    /* Footer Main Styles */
    .malik-faisal-footer {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background: #2c3e50;
        color: white;
        z-index: 9999;
        border-top: 3px solid #f39c12;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* Top Bar of Footer */
    .footer-status-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 30px;
        background: rgba(0, 0, 0, 0.3);
        font-size: 12px;
        letter-spacing: 0.5px;
    }

    .pulse-dot {
        color: #2ecc71;
        font-weight: bold;
        animation: footerPulse 1.5s infinite;
        margin-right: 5px;
    }

    .designer-name {
        color: #f1c40f;
        font-weight: bold;
        font-style: italic;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    }

    /* Ticker Styling (Moving Text) */
    .footer-ticker-container {
        background: #1a252f;
        padding: 5px 0;
        overflow: hidden;
        white-space: nowrap;
    }

    .moving-ticker {
        display: inline-block;
        padding-left: 100%;
        animation: footerMarquee 30s linear infinite;
        font-size: 11px;
        color: #bdc3c7;
        font-weight: 500;
    }

    /* Animations */
    @keyframes footerMarquee {
        0% { transform: translateX(0); }
        100% { transform: translateX(-100%); }
    }

    @keyframes footerPulse {
        0% { opacity: 1; }
        50% { opacity: 0.4; }
        100% { opacity: 1; }
    }

    /* Mobile Responsive adjustment */
    @media (max-width: 600px) {
        .status-center { display: none; }
        .footer-status-bar { justify-content: space-between; padding: 8px 15px; }
    }
</style>
</body>
</html>